{"openapi":"3.1.0","info":{"title":"FastAPI","version":"0.1.0"},"paths":{"/health/rowing/submit":{"post":{"tags":["health"],"summary":"Submit Rowing Data","description":"Extract rowing data from an image and save it to the database.\n\nThis endpoint:\n1. Downloads an image from the provided URL\n2. Uses an LLM to extract structured workout data\n3. Saves the data to the database\n\nReturns:\n    A response containing the status, workout ID, and extracted data","operationId":"submit_rowing_data_health_rowing_submit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RowingExtractRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/health/rowing/get/{period}":{"get":{"tags":["health"],"summary":"Get Rowing Workouts","description":"Get rowing workout data for a specific time period.\n\nRetrieves rowing workouts from the database for the specified period.\n\nArgs:\n    period: The period type (day, week, month, year)\n    span: Number of periods to return (1-52)\n    offset: Number of periods to offset from now\n\nReturns:\n    A list of rowing workouts for the specified period","operationId":"get_rowing_workouts_health_rowing_get__period__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"period","in":"path","required":true,"schema":{"enum":["day","week","month","year"],"type":"string","title":"Period"}},{"name":"span","in":"query","required":false,"schema":{"type":"integer","maximum":52,"minimum":1,"description":"Number of periods to return","default":1,"title":"Span"},"description":"Number of periods to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of periods to offset from now","default":0,"title":"Offset"},"description":"Number of periods to offset from now"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RowingResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health/availablemetrics":{"get":{"tags":["health"],"summary":"Get Available Metrics","description":"Get a list of available metrics.","operationId":"get_available_metrics_health_availablemetrics_get","responses":{"200":{"description":"Successful Response","content":{"text/plain":{"schema":{"type":"string"}}}}},"security":[{"APIKeyHeader":[]}]}},"/health/summary/{period}":{"get":{"tags":["health"],"summary":"Get Health Summary","description":"Get health summary data for a specific period.","operationId":"get_health_summary_health_summary__period__get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"period","in":"path","required":true,"schema":{"enum":["day","week","month","year"],"type":"string","title":"Period"}},{"name":"metrics","in":"query","required":false,"schema":{"type":"string","description":"Comma-separated metrics/groups or 'all'. Use '@' prefix for metric groups.","default":"all","title":"Metrics"},"description":"Comma-separated metrics/groups or 'all'. Use '@' prefix for metric groups."},{"name":"span","in":"query","required":false,"schema":{"type":"integer","maximum":52,"minimum":1,"description":"Number of periods to return","default":1,"title":"Span"},"description":"Number of periods to return"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Number of periods to offset from now","default":0,"title":"Offset"},"description":"Number of periods to offset from now"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthSummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health/profile":{"get":{"tags":["health"],"summary":"Get Health Profile","description":"Get health profile from configured file location","operationId":"get_health_profile_health_profile_get","responses":{"200":{"description":"Successful Response","content":{"text/plain":{"schema":{"type":"string"}}}}},"security":[{"APIKeyHeader":[]}]}},"/health/current":{"get":{"tags":["health"],"summary":"Get Current Measurements","description":"DEPRECATED: This endpoint will be removed in a future version.\nUse '/health/summary/day' with span=1 instead.\n\nGet latest measurements for all health metrics","operationId":"get_current_measurements_health_current_get","deprecated":true,"security":[{"APIKeyHeader":[]}],"parameters":[{"name":"types","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"description":"Filter by measurement types","title":"Types"},"description":"Filter by measurement types"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HealthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health/trends":{"get":{"tags":["health"],"summary":"Get Health Trends","description":"DEPRECATED: This endpoint will be removed in a future version.\nUse '/health/summary/{period}' with appropriate period and span parameters instead.\n\nGet trend data for specified period and metrics","operationId":"get_health_trends_health_trends_get","deprecated":true,"security":[{"APIKeyHeader":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"type":"integer","description":"Number of days to analyze","default":30,"title":"Days"},"description":"Number of days to analyze"},{"name":"types","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"description":"Filter by measurement types","title":"Types"},"description":"Filter by measurement types"},{"name":"interval","in":"query","required":false,"schema":{"type":"string","description":"Grouping interval: day, week, month","default":"day","title":"Interval"},"description":"Grouping interval: day, week, month"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TrendResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/health/stats":{"get":{"tags":["health"],"summary":"Get Health Stats","description":"DEPRECATED: This endpoint will be removed in a future version.\nUse '/health/summary/{period}' with appropriate metrics parameters instead.\n\nGet statistical analysis of health metrics","operationId":"get_health_stats_health_stats_get","deprecated":true,"security":[{"APIKeyHeader":[]}],"parameters":[{"name":"days","in":"query","required":false,"schema":{"anyOf":[{"type":"integer"},{"type":"null"}],"description":"Analysis period in days","default":30,"title":"Days"},"description":"Analysis period in days"},{"name":"types","in":"query","required":false,"schema":{"anyOf":[{"type":"array","items":{"type":"integer"}},{"type":"null"}],"description":"Filter by measurement types","title":"Types"},"description":"Filter by measurement types"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StatsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/learning/scrape":{"post":{"tags":["learning"],"summary":"Scrape","description":"Basic endpoint to test URL processing.\n\nThis is a placeholder that will later extract content from the provided URL.\n\nReturns:\n    LearningResponse: Status and message","operationId":"scrape_learning_scrape_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LearningItemRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LearningResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/learning/memo":{"post":{"tags":["learning"],"summary":"Create Memo","description":"Basic endpoint to test memo text processing.\n\nThis is a placeholder that will later process the provided text content.\n\nReturns:\n    LearningResponse: Status and message","operationId":"create_memo_learning_memo_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/LearningItemRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LearningResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}},"/learning/rm":{"post":{"tags":["learning"],"summary":"Remove Learning Item","description":"Remove a learning file.\n\nArgs:\n    id: ID of the learning file to remove\n    \nReturns:\n    LearningResponse: Status and message","operationId":"remove_learning_item_learning_rm_post","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"id","in":"query","required":true,"schema":{"type":"string","title":"Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LearningResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/learning/file/{file_id}":{"get":{"tags":["learning"],"summary":"Get Learning File","description":"Get a learning content file by ID.\n\nArgs:\n    file_id: ID of the learning file to retrieve\n    \nReturns:\n    PlainTextResponse: The markdown content","operationId":"get_learning_file_learning_file__file_id__get","parameters":[{"name":"file_id","in":"path","required":true,"schema":{"type":"string","title":"File Id"}}],"responses":{"200":{"description":"Successful Response","content":{"text/plain":{"schema":{"type":"string"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/learning/list":{"get":{"tags":["learning"],"summary":"List Learning Files","description":"List learning content files.\n\nArgs:\n    status: Filter by file status\n    \nReturns:\n    LearningResponse: List of learning files","operationId":"list_learning_files_learning_list_get","security":[{"APIKeyHeader":[]}],"parameters":[{"name":"status","in":"query","required":false,"schema":{"type":"string","description":"Filter by status (active, archived, all)","default":"active","title":"Status"},"description":"Filter by status (active, archived, all)"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/LearningResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/getTest":{"get":{"summary":"Get Test","description":"Read data from a file","operationId":"get_test_getTest_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"APIKeyHeader":[]}]}},"/setTest":{"post":{"summary":"Set Test","description":"Write data to a file","operationId":"set_test_setTest_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TestData"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"APIKeyHeader":[]}]}}},"components":{"schemas":{"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HealthResponse":{"properties":{"measurements":{"items":{"$ref":"#/components/schemas/Measurement"},"type":"array","title":"Measurements"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","default":"2025-06-29T02:12:25.800343"},"timezone":{"type":"string","title":"Timezone","default":"UTC"}},"type":"object","required":["measurements"],"title":"HealthResponse","description":"All timestamps are in UTC"},"HealthSummaryResponse":{"properties":{"period_type":{"type":"string","title":"Period Type"},"summaries":{"items":{"$ref":"#/components/schemas/PeriodSummary"},"type":"array","title":"Summaries"},"generated_at":{"type":"string","format":"date-time","title":"Generated At","default":"2025-06-29T02:12:25.805106"}},"type":"object","required":["period_type","summaries"],"title":"HealthSummaryResponse","description":"Model representing a summary of health metrics over a specified period."},"LearningItemRequest":{"properties":{"url":{"anyOf":[{"type":"string","maxLength":2083,"minLength":1,"format":"uri"},{"type":"null"}],"title":"Url"},"text":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Text"}},"type":"object","title":"LearningItemRequest","description":"Request model for creating a learning item from a URL."},"LearningResponse":{"properties":{"status":{"type":"string","title":"Status"},"message":{"type":"string","title":"Message"},"data":{"anyOf":[{"type":"object"},{"type":"null"}],"title":"Data"}},"type":"object","required":["status","message"],"title":"LearningResponse","description":"Response model for learning API endpoints."},"Measurement":{"properties":{"id":{"type":"integer","title":"Id"},"date":{"type":"string","format":"date-time","title":"Date"},"type":{"type":"integer","title":"Type"},"value":{"type":"number","title":"Value"},"measure_name":{"type":"string","title":"Measure Name"},"display_unit":{"type":"string","title":"Display Unit"}},"type":"object","required":["id","date","type","value","measure_name","display_unit"],"title":"Measurement","description":"Health measurement data point. All timestamps are in UTC"},"MetricValue":{"properties":{"avg":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Avg"},"min":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Min"},"max":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max"},"unit":{"type":"string","title":"Unit"},"sample_count":{"type":"integer","title":"Sample Count"}},"type":"object","required":["avg","min","max","unit","sample_count"],"title":"MetricValue","description":"Model representing a metric value."},"PeriodSummary":{"properties":{"period_start":{"type":"string","format":"date-time","title":"Period Start"},"period_end":{"type":"string","format":"date-time","title":"Period End"},"metrics":{"additionalProperties":{"$ref":"#/components/schemas/MetricValue"},"type":"object","title":"Metrics"}},"type":"object","required":["period_start","period_end","metrics"],"title":"PeriodSummary","description":"Model representing a summary of health metrics for a specific period."},"RowingExtractRequest":{"properties":{"image_url":{"type":"string","maxLength":2083,"minLength":1,"format":"uri","title":"Image Url"},"workout_date":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Workout Date"}},"type":"object","required":["image_url"],"title":"RowingExtractRequest","description":"Request model for the rowing workout image extraction endpoint.\n\nAttributes:\n    image_url: URL of the rowing machine workout screenshot to process\n    workout_date: Optional timestamp when the workout was performed.\n                 If not provided, the current date will be used."},"RowingResponse":{"properties":{"workouts":{"items":{"$ref":"#/components/schemas/RowingWorkout"},"type":"array","title":"Workouts"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","default":"2025-06-29T02:12:25.808837"},"timezone":{"type":"string","title":"Timezone","default":"UTC"}},"type":"object","required":["workouts"],"title":"RowingResponse","description":"Response model for the rowing workout retrieval endpoint.\nIncludes a list of workouts and metadata about the response.\n\nAttributes:\n    workouts: List of rowing workout records matching the query parameters\n    timestamp: UTC timestamp when the response was generated\n    timezone: Timezone identifier for the timestamps in the response (always \"UTC\")\n\nExample:\n    {\n        \"workouts\": [\n            {\n                \"id\": 1,\n                \"date\": \"2023-10-15T08:30:00\",\n                \"workout_type\": \"distance\",\n                \"duration_seconds\": 1800.5,\n                \"distance_meters\": 5000.0,\n                \"avg_split\": 120.0\n            }\n        ],\n        \"timestamp\": \"2023-10-16T14:22:10.123456\",\n        \"timezone\": \"UTC\"\n    }"},"RowingWorkout":{"properties":{"id":{"type":"integer","title":"Id"},"date":{"type":"string","format":"date-time","title":"Date"},"workout_type":{"type":"string","title":"Workout Type"},"duration_seconds":{"type":"number","title":"Duration Seconds"},"distance_meters":{"type":"number","title":"Distance Meters"},"avg_split":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Avg Split"}},"type":"object","required":["id","date","workout_type","duration_seconds","distance_meters"],"title":"RowingWorkout","description":"Model representing a rowing workout stored in the database.\nIncludes all rowing metrics plus metadata like ID and timestamp.\n\nAttributes:\n    id: Unique identifier for the workout record\n    date: Timestamp when the workout was performed (UTC)\n    workout_type: Type of workout - \"distance\" or \"interval\"\n    duration_seconds: Total duration of the workout in seconds\n    distance_meters: Total distance rowed in meters\n    avg_split: Average split time in seconds per 500m (may be null for interval workouts)"},"StatMeasurement":{"properties":{"type":{"type":"integer","title":"Type"},"measure_name":{"type":"string","title":"Measure Name"},"avg_value":{"type":"number","title":"Avg Value"},"min_value":{"type":"number","title":"Min Value"},"max_value":{"type":"number","title":"Max Value"},"display_unit":{"type":"string","title":"Display Unit"},"reading_count":{"type":"integer","title":"Reading Count"},"classification":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Classification"}},"type":"object","required":["type","measure_name","avg_value","min_value","max_value","display_unit","reading_count"],"title":"StatMeasurement","description":"Model representing a statistical measurement."},"StatsResponse":{"properties":{"stats":{"items":{"$ref":"#/components/schemas/StatMeasurement"},"type":"array","title":"Stats"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","default":"2025-06-29T02:12:25.801924"},"timezone":{"type":"string","title":"Timezone","default":"UTC"}},"type":"object","required":["stats"],"title":"StatsResponse","description":"All timestamps are in UTC"},"TestData":{"properties":{"content":{"type":"string","title":"Content"}},"type":"object","required":["content"],"title":"TestData","description":"Data model for writing to a file"},"TrendMeasurement":{"properties":{"period":{"type":"string","format":"date-time","title":"Period"},"type":{"type":"integer","title":"Type"},"measure_name":{"type":"string","title":"Measure Name"},"avg_value":{"type":"number","title":"Avg Value"},"min_value":{"type":"number","title":"Min Value"},"max_value":{"type":"number","title":"Max Value"},"display_unit":{"type":"string","title":"Display Unit"},"reading_count":{"type":"integer","title":"Reading Count"}},"type":"object","required":["period","type","measure_name","avg_value","min_value","max_value","display_unit","reading_count"],"title":"TrendMeasurement","description":"Model representing a trend measurement."},"TrendResponse":{"properties":{"trends":{"items":{"$ref":"#/components/schemas/TrendMeasurement"},"type":"array","title":"Trends"},"timestamp":{"type":"string","format":"date-time","title":"Timestamp","default":"2025-06-29T02:12:25.801328"},"timezone":{"type":"string","title":"Timezone","default":"UTC"}},"type":"object","required":["trends"],"title":"TrendResponse","description":"All timestamps are in UTC"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}},"securitySchemes":{"APIKeyHeader":{"type":"apiKey","in":"header","name":"X-API-Key"}}}}